/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is not neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/assets/js/controllers/EventController.js":
/*!******************************************************!*\
  !*** ./src/assets/js/controllers/EventController.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _services_AppService__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../services/AppService */ \"./src/assets/js/services/AppService.js\");\n/* harmony import */ var _services_DOMLoader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/DOMLoader */ \"./src/assets/js/services/DOMLoader.js\");\n/* harmony import */ var _UIController__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./UIController */ \"./src/assets/js/controllers/UIController.js\");\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n\n\n\n\nclass EnventController {\n  static init() {\n    $(_services_DOMLoader__WEBPACK_IMPORTED_MODULE_1__.default.filterItemBtn).each(function () {\n      $(this).on('click', function () {\n        var iconEl = $(this).find('.collapsible-icon');\n        var contentEl = $(this).siblings('.collapsible-item__content');\n\n        if (iconEl.hasClass('collapsed')) {\n          iconEl.removeClass('collapsed');\n          contentEl.removeClass('collapsed');\n          var height = contentEl.prop('scrollHeight');\n          contentEl.css('transition', 'height 0.35s ease-in-out');\n          contentEl.css('height', height);\n          contentEl.on('transitionend', function () {\n            contentEl.off('transitionend');\n            contentEl.css('height', 'auto');\n          });\n        } else {\n          iconEl.addClass('collapsed');\n\n          var _height = contentEl.prop('scrollHeight');\n\n          requestAnimationFrame(function () {\n            contentEl.css('height', _height);\n            requestAnimationFrame(function () {\n              contentEl.css('height', 0);\n              contentEl.addClass('collapsed');\n            });\n          });\n        }\n      });\n    });\n    $(_services_DOMLoader__WEBPACK_IMPORTED_MODULE_1__.default.filterKey).each(function () {\n      $(this).on('click', /*#__PURE__*/_asyncToGenerator(function* () {\n        var queryString = '';\n        var dataTag = $(this).attr('data-tag');\n        if (!dataTag) return;\n        var urlData = _services_AppService__WEBPACK_IMPORTED_MODULE_0__.default.parseURL(location.pathname.split('/').pop());\n        urlData.tags.push(dataTag);\n        queryString += urlData.tags.join('+');\n        if (urlData.sortBy) queryString += \"?sort_by=\".concat(urlData.sortBy);\n        _UIController__WEBPACK_IMPORTED_MODULE_2__.default.initLoadingBar();\n        var products = (yield axios.get('api/products/' + queryString)).data;\n        _UIController__WEBPACK_IMPORTED_MODULE_2__.default.removeLoadingBar();\n        _UIController__WEBPACK_IMPORTED_MODULE_2__.default.renderProductList(products);\n        document.querySelector('.section-capsules').scrollIntoView({\n          behavior: 'smooth'\n        });\n      }));\n    });\n  }\n\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EnventController);\n\n//# sourceURL=webpack://nest-shopify-collection/./src/assets/js/controllers/EventController.js?");

/***/ }),

/***/ "./src/assets/js/controllers/UIController.js":
/*!***************************************************!*\
  !*** ./src/assets/js/controllers/UIController.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _services_AppService__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../services/AppService */ \"./src/assets/js/services/AppService.js\");\n/* harmony import */ var _services_DOMLoader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/DOMLoader */ \"./src/assets/js/services/DOMLoader.js\");\n/* harmony import */ var _services_MockLoader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/MockLoader */ \"./src/assets/js/services/MockLoader.js\");\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n\n\n\n\nclass UiController {\n  static initLoadingBar() {\n    $('.loading-bar').css({\n      visibility: 'visible',\n      opacity: 1,\n      width: '30vw'\n    });\n  }\n\n  static removeLoadingBar() {\n    $('.loading-bar').css({\n      visibility: 'visible',\n      opacity: 1,\n      width: '100vw'\n    });\n    setTimeout(() => {\n      $('.loading-bar').css({\n        visibility: 'hidden',\n        opacity: 0,\n        width: 0\n      });\n    }, 200);\n  }\n\n  static initCarousel(products) {\n    products.forEach(p => {\n      var itemHTML = _services_MockLoader__WEBPACK_IMPORTED_MODULE_2__.default.getCarouselItem(p.title, p.images[0].src);\n      $(_services_DOMLoader__WEBPACK_IMPORTED_MODULE_1__.default.flickityContainer).append(itemHTML);\n      setTimeout(() => {\n        $(_services_DOMLoader__WEBPACK_IMPORTED_MODULE_1__.default.flickityContainer).flickity({\n          cellAlign: 'center',\n          prevNextButtons: true,\n          dragThreshold: 8,\n          groupCell: true,\n          contain: true,\n          pageDots: false,\n          arrowShape: 'M 20,50 L 60,90 L 60,85 L 25,50  L 60,15 L 60,10 Z'\n        });\n      }, 100);\n    });\n  }\n\n  static renderProductList(products) {\n    $(_services_DOMLoader__WEBPACK_IMPORTED_MODULE_1__.default.productListContainer).empty();\n    products.forEach(p => {\n      var parsedTag = _services_AppService__WEBPACK_IMPORTED_MODULE_0__.default.parseTags(p.tags);\n      var money = _services_AppService__WEBPACK_IMPORTED_MODULE_0__.default.formatCurrency(p.variants[0].price);\n      var itemHTML = _services_MockLoader__WEBPACK_IMPORTED_MODULE_2__.default.getProductListItem(p.title, p.images[0].src, parsedTag.flavors, parsedTag.roaster || 'Roaster', parsedTag.country || 'Country', money, p.variants[0].inventoryQuantity);\n      $(_services_DOMLoader__WEBPACK_IMPORTED_MODULE_1__.default.productListContainer).append(itemHTML);\n    });\n  }\n\n  static initFilterList(filterList) {\n    var listHTML = _services_MockLoader__WEBPACK_IMPORTED_MODULE_2__.default.getFilterList(filterList);\n    $(_services_DOMLoader__WEBPACK_IMPORTED_MODULE_1__.default.filterContainer).append(listHTML);\n  }\n\n  static initPagination(pagination) {\n    var pagString = '';\n    if (pagination.page !== 1) pagString += \"<a\\n                                href=\\\"/?page=\".concat(pagination.page - 1, \"\\\"\\n                                class=\\\"pagination__item pagination__link\\\"\\n                            >\\n                                <svg\\n                                    role=\\\"presentation\\\"\\n                                    viewBox=\\\"0 0 11 18\\\"\\n                                >\\n                                    <path\\n                                        d=\\\"M9.5 1.5L1.5 9l8 7.5\\\"\\n                                        stroke-width=\\\"2\\\"\\n                                        stroke=\\\"currentColor\\\"\\n                                        fill=\\\"none\\\"\\n                                        fill-rule=\\\"evenodd\\\"\\n                                        stroke-linecap=\\\"square\\\"\\n                                    ></path>\\n                                </svg>\\n                            </a>\");\n\n    for (var i = 1; i <= pagination.pageCount; i++) {\n      if (i === pagination.page) pagString += \"<span class=\\\"pagination__item active\\\">\".concat(i, \"</span>\");else pagString += \"  <a\\n                                    href=\\\"/?page=\".concat(i, \"\\\"\\n                                    class=\\\"pagination__item pagination__link\\\"\\n                                    >\").concat(i, \"</a\\n                                >\");\n    }\n\n    if (pagination.page !== pagination.pageCount) pagString += \"<a\\n                            href=\\\"/?page=\".concat(pagination.page + 1, \"\\\"\\n                            class=\\\"pagination__item pagination__link\\\"\\n                            ><svg\\n                                role=\\\"presentation\\\"\\n                                viewBox=\\\"0 0 11 18\\\"\\n                            >\\n                                <path\\n                                    d=\\\"M1.5 1.5l8 7.5-8 7.5\\\"\\n                                    stroke-width=\\\"2\\\"\\n                                    stroke=\\\"currentColor\\\"\\n                                    fill=\\\"none\\\"\\n                                    fill-rule=\\\"evenodd\\\"\\n                                    stroke-linecap=\\\"square\\\"\\n                                ></path></svg\\n                        ></a>\");\n    $(_services_DOMLoader__WEBPACK_IMPORTED_MODULE_1__.default.pagination).append(pagString);\n  }\n\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UiController);\n\n//# sourceURL=webpack://nest-shopify-collection/./src/assets/js/controllers/UIController.js?");

/***/ }),

/***/ "./src/assets/js/index.js":
/*!********************************!*\
  !*** ./src/assets/js/index.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _controllers_UIController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./controllers/UIController */ \"./src/assets/js/controllers/UIController.js\");\n/* harmony import */ var _controllers_EventController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./controllers/EventController */ \"./src/assets/js/controllers/EventController.js\");\n\n\nconsole.log(productList);\n\nvar init = () => {\n  _controllers_UIController__WEBPACK_IMPORTED_MODULE_0__.default.initCarousel(punchProducts);\n  _controllers_UIController__WEBPACK_IMPORTED_MODULE_0__.default.renderProductList(productList.products);\n  _controllers_UIController__WEBPACK_IMPORTED_MODULE_0__.default.initFilterList(filterList);\n  _controllers_UIController__WEBPACK_IMPORTED_MODULE_0__.default.initPagination(productList.pagination);\n  _controllers_EventController__WEBPACK_IMPORTED_MODULE_1__.default.init();\n  $('.loading-screen').fadeOut(300);\n};\n\ninit();\n\n//# sourceURL=webpack://nest-shopify-collection/./src/assets/js/index.js?");

/***/ }),

/***/ "./src/assets/js/services/AppService.js":
/*!**********************************************!*\
  !*** ./src/assets/js/services/AppService.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nvar AppService = {\n  parseTags: tags => {\n    var country = '',\n        location = '',\n        roaster = '',\n        flavors = [];\n    var testStrings = ['Country', 'Location', 'Roaster', 'Flavor'];\n\n    var parseData = data => {\n      return data.split('_').pop().split('-').join(' ');\n    };\n\n    tags.map(tag => {\n      var matchedEl = testStrings.find(testString => tag.includes(testString));\n      if (!matchedEl) return;else if (matchedEl === 'Country') country = parseData(tag);else if (matchedEl === 'Location') location = parseData(tag);else if (matchedEl === 'Flavor') flavors.push(parseData(tag));else if (matchedEl === 'Roaster') roaster = parseData(tag);\n    });\n    return {\n      country,\n      location,\n      flavors,\n      roaster\n    };\n  },\n  formatCurrency: price => {\n    var formatter = new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0\n    });\n    return formatter.format(+price);\n  },\n  parseURL: url => {\n    var tags = [];\n    var sortBy = '';\n    if (!url) return {\n      tags,\n      sortBy\n    };\n    var keys = url.split('?');\n\n    if (keys.length === 2) {\n      tags = keys.shift().split('+');\n      sortBy = keys.pop().split('=').pop();\n    } else if (keys.length === 1) {\n      if (keys[0].includes('sort_by')) sortBy = keys.pop().split('=').pop();else tags = keys.shift().split('+');\n    }\n\n    return {\n      tags,\n      sortBy\n    };\n  }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AppService);\n\n//# sourceURL=webpack://nest-shopify-collection/./src/assets/js/services/AppService.js?");

/***/ }),

/***/ "./src/assets/js/services/DOMLoader.js":
/*!*********************************************!*\
  !*** ./src/assets/js/services/DOMLoader.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nvar DOMLoader = {\n  flickityContainer: '.carousel',\n  productListContainer: '.right-list>.row',\n  filterContainer: '.left-filter',\n  filterItemBtn: '.collapsible-item__btn',\n  filterKey: '.collapsible-item__list-item',\n  pagination: '.pagination__nav'\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DOMLoader);\n\n//# sourceURL=webpack://nest-shopify-collection/./src/assets/js/services/DOMLoader.js?");

/***/ }),

/***/ "./src/assets/js/services/MockLoader.js":
/*!**********************************************!*\
  !*** ./src/assets/js/services/MockLoader.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\nvar MockLoader = {\n  getCarouselItem: (title, src) => {\n    return \"<div class=\\\"carousel__item carousel-cell\\\">\\n                    <div class=\\\"carousel__item__thumb\\\">\\n                        <img\\n                            class=\\\"preload-img\\\"\\n                            src=\\\"/images/preload-img.jpg\\\"\\n                            alt=\\\"\\\"\\n                        />\\n                        <img\\n                            class=\\\"img\\\"\\n                            src=\\\"\".concat(src, \"\\\"\\n                            alt=\\\"\\\"\\n                        />\\n                    </div>\\n                    <p class=\\\"carousel__item__title\\\">\\n                        \").concat(title, \"\\n                    </p>\\n                </div>\");\n  },\n  getFilterList: filterList => {\n    var listHTML = '';\n    filterList.forEach(filter => {\n      var keyList = '';\n      filter.list.forEach(el => {\n        keyList = keyList.concat(\"<li class=\\\"collapsible-item__list-item\\\" data-tag=\\\"\".concat(el.dataTag, \"\\\">\").concat(el.title, \"</li>\"));\n      });\n      listHTML = listHTML.concat(\"<div class=\\\"collapsible-item\\\">\\n                                <button class=\\\"collapsible-item__btn\\\">\\n                                    <p\\n                                        class=\\\"collapsible-item__title u-heading--primary is-light-font\\\"\\n                                    >\\n                                        \".concat(filter.by, \"\\n                                    </p>\\n                                    <span class=\\\"collapsible-icon collapsed\\\"></span>\\n                                </button>\\n                                <div class=\\\"collapsible-item__content collapsed\\\" style=\\\"height: 0px\\\">\\n                                    <ul class=\\\"collapsible-item__list\\\">\\n                                    \").concat(keyList, \"\\n                                    </ul>\\n                                </div>\\n                            </div>\"));\n    });\n    return listHTML;\n  },\n  getProductListItem: (title, src, flavors, roaster, country, money, inventoryQuantity) => {\n    var buttonString = inventoryQuantity ? \"<button\\n            class=\\\"btn btn--primary product-item__add-btn\\\"\\n        >\\n            <span\\n                class=\\\"product-item__add-btn__title\\\"\\n            >\\n                add to cart\\n            </span>\\n            <span\\n                class=\\\"product-item__add-btn__dot\\\"\\n            ></span>\\n            <span\\n                class=\\\"product-item__add-btn__price\\\"\\n                >\".concat(money, \"</span\\n            >\\n        </button>\") : \"<button\\n                    class=\\\"btn btn--primary product-item__add-btn\\\"\\n                    disabled\\n                >\\n                    sold out\\n                </button>\";\n    var badgeString = !inventoryQuantity ? \"<span\\n                class=\\\"product-item__badge u-heading--primary\\\"\\n                >sold out</span\\n            >\" : '';\n    return \"<div class=\\\"col-md-3\\\">\\n                    <div class=\\\"product-item\\\">\\n                        <div class=\\\"product-item__thumb\\\">\\n                            \".concat(badgeString, \"\\n                            <img\\n                                class=\\\"preload-img\\\"\\n                                src=\\\"/images/preload-img.jpg\\\"\\n                                alt=\\\"\\\"\\n                            />\\n                            <img\\n                                class=\\\"img\\\"\\n                                src=\\\"\").concat(src, \"\\\"\\n                                alt=\\\"\\\"\\n                            />\\n                        </div>\\n                        <p\\n                            class=\\\"product-item__flavor u-heading--primary\\\"\\n                        >\\n                            \").concat(flavors[0] || 'Flavor', \"\\n                        </p>\\n                        <p\\n                            class=\\\"product-item__title u-heading--primary is-light-font\\\"\\n                        >\\n                            \").concat(title, \"\\n                        </p>\\n                        <p class=\\\"product-item__location\\\">\\n                           \").concat(roaster + ', ' + country, \"\\n                        </p>\\n                        \").concat(buttonString, \"\\n                    </div>\\n                </div>\");\n  }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MockLoader);\n\n//# sourceURL=webpack://nest-shopify-collection/./src/assets/js/services/MockLoader.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		if(__webpack_module_cache__[moduleId]) {
/******/ 			return __webpack_module_cache__[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	// startup
/******/ 	// Load entry module
/******/ 	__webpack_require__("./src/assets/js/index.js");
/******/ 	// This entry module used 'exports' so it can't be inlined
/******/ })()
;